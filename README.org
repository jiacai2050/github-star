#+TITLE: Oh My GitHub
#+DATE: 2022-04-17T18:22:40+0800
#+AUTHOR: Jiacai Liu
#+LANGUAGE: en
#+EMAIL: jiacai2050+org@gmail.com
#+OPTIONS: toc:nil num:nil
#+STARTUP: content

[[https://github.com/jiacai2050/oh-my-github/actions/workflows/CI.yml][https://github.com/jiacai2050/oh-my-github/actions/workflows/CI.yml/badge.svg]]

Oh My GitHub is a delightful, open source tool for managing your GitHub repositories/gists.

* Features
- Support local storage(SQLite)
- Rich search syntax
- Fast. Oh My GitHub's core is built in [[https://gcc.gnu.org/onlinedocs/gcc/Standards.html][GNU99]] C (tested with [[Https://valgrind.org/][Valgrind]]/[[https://clang.llvm.org/docs/AddressSanitizer.html][ASAN]])

There are mainly two user interfaces:
- Emacs. Full-featured
  - Sync
  - Query repositories
    - Unstar
    - Query latest commits
    - Query latest releases
    - Download release asset files
  - Query created/starred gists

- CLI, TBD
  - Sync
  - Query repositories
* Emacs Interface
** Install
1. Download [[https://github.com/jiacai2050/oh-my-github/blob/master/emacs/oh-my-github.el][omg.el]]
2. Download required shared object, and rename it to =omg-dyn.so= or =dll= suffix if you are on Windows
   - From [[https://github.com/jiacai2050/github-star/releases][release page]] according to your operating system
   - or you can build it yourself with =make emacs-dyn=, be sure to install [[#Development][required dependencies]]
3. Put =el= and =so= files under =load-path=
4. Generate Github personal access tokens at https://github.com/settings/tokens and set it to =omg-pat=
5. Initialize with =omg-setup=

Here is a =use-package= config demo:
#+BEGIN_SRC emacs-lisp
(use-package omg
  :load-path "/path/to/omg/emacs"
  :config
  (setq omg-pat (getenv "GITHUB_TOKEN"))
  (omg-setup))
#+END_SRC

After setup, you can
- Check authentication with =omg-whoami=
- Sync repositories/gists with =omg-sync=
  - =~/.emacs.d/omg.db= is the default database file, users can customize it with =omg-db-file= variable.

** Usage
There are three major-modes for repositories:
- =omg-repos-mode=
- =omg-starred-repos-mode=
- =omg-trending-repos-mode=

And there are three derived modes for repositories:
- =omg-commits-mode=, commits of a repository
- =omg-releases-mode=, releases of a repository
- =omg-assets-mode=, asset files of a release

There are two major-modes for gists:
- =omg-gists-mode=
- =omg-starred-gists-mode=

The figure below shows relations among those mode:

[[file:assets/omg-modes.svg]]

*** Useful commands
- =omg-sync= Sync repositories/gists
  - +Emacs maybe hang a while depending on how many repositories you have.+
  - Since v0.4.0, synchronization happens in background thread, which will not hang Emacs any more. Users can check =*omg-log*= buffer for progress.
- =omg-list-created-repositories=
- =omg-list-starred-repositories=
- =omg-list-trending-repositories=
- =omg-list-created-gists=
- =omg-list-starred-gists=
- =omg-whoami=
** Screenshots
*** Starred repositories mode
[[file:assets/omg-stars.png]]
*** Commits mode
[[file:assets/omg-commits.png]]
*** Releases mode
[[file:assets/omg-releases.png]]
*** Assets modes
[[file:assets/omg-assets.png]]
*** Trendings modes
[[file:assets/omg-trendings.png]]

* Roadmap
- [x] Trending
- [x] Gists

* Development
- Ubuntu
- macOS

Dependencies can be found in [[file:Makefile][Makefile]]'s =install-deps= target
* LICENSE
Copyright (c) 2022 Jiacai Liu <jiacai2050+omg@gmail.com>

Oh My GitHub is distributed under [[https://www.gnu.org/licenses/gpl-3.0.txt][GPL-3.0]] license.

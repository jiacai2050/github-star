#+TITLE: Oh My GitHub
#+DATE: 2022-04-17T18:22:40+0800
#+AUTHOR: Jiacai Liu
#+LANGUAGE: en
#+EMAIL: jiacai2050+org@gmail.com
#+OPTIONS: toc:nil num:nil
#+STARTUP: content
#+OPTIONS: broken-links:t

[[https://github.com/jiacai2050/oh-my-github/actions/workflows/CI.yml][https://github.com/jiacai2050/oh-my-github/actions/workflows/CI.yml/badge.svg]]
[[https://github.com/jiacai2050/oh-my-github/actions/workflows/lisp-ci.yml][https://github.com/jiacai2050/oh-my-github/actions/workflows/lisp-ci.yml/badge.svg]]

Oh My GitHub is a delightful, open source tool for managing your GitHub repositories/gists.

* Features
- Support sync repos/gists to local storage(SQLite)
- Rich search syntax
- Fast. Oh My GitHub's core is built in [[https://gcc.gnu.org/onlinedocs/gcc/Standards.html][GNU99]] C (tested with [[Https://valgrind.org/][Valgrind]]/[[https://clang.llvm.org/docs/AddressSanitizer.html][ASAN]])

There are mainly two user interfaces:
- Emacs. Full-featured
  - Sync
  - Repositories
    - Unstar
    - Query latest commits
    - Query latest releases
    - Download release asset files
  - Gists
    - Download gist files
  - Pull
    - Create Pull Request
- CLI, TBD
  - Sync
  - Query repositories
* Emacs Interface
** Install
1. Download [[https://github.com/jiacai2050/oh-my-github/blob/master/emacs/omg.el][omg.el]]
2. Download required shared object, and rename it to =omg-dyn.so= or =dll= suffix if you are on Windows
   - From [[https://github.com/jiacai2050/github-star/releases][release page]] according to your operating system
   - or you can build it yourself with =make emacs-dyn=, be sure to install [[#Development][required dependencies]]
3. Put above =el= and =so= files under =load-path=
4. Generate Github personal access tokens at https://github.com/settings/tokens and set it to =omg-pat=
5. Initialize with =omg-setup=

Here is a =use-package= config demo:
#+BEGIN_SRC emacs-lisp
(use-package omg
  :load-path "/path/to/oh-my-github/emacs"
  :config
  (setq omg-pat "${YOUR-TOKEN}")
  (omg-setup))
#+END_SRC

After setup, you can
- Check authentication with =omg-whoami=
- Sync repositories/gists with =omg-sync=
  - =~/.emacs.d/omg.db= is the default database file, users can customize it with =omg-db-file= variable.

** Usage
There are three major-modes for repositories: =omg-repo-mode=, =omg-repo-starred-mode=, =omg-trending-mode=, and three derived modes:
- =omg-commit-mode=, commits of a repository
- =omg-release-mode=, releases of a repository
- =omg-release-asset-mode=, asset files of a release

As for gists, there are mainly two modes:
- =omg-gist-mode=, manage your ownned gists
- =omg-gist-starred-mode=,manage your starred gists

The figure below shows relations among them:

[[file:assets/omg-modes.svg]]

*** Useful commands
- =omg-sync= Sync repositories/gists
  - Since v0.4.0, synchronization happens in background thread, which will not hang Emacs any more. Users can check =*omg-log*= buffer for progress.
- =omg-repo-list-created=, list ownned repositories
- =omg-repo-list-starred=, list starred repositories
- =omg-gist-list-created=, list ownned gists
- =omg-gist-list-starred=, list starred gists
- =omg-trending-list=, list trending repositories
- =omg-whoami=, fetch user information
- =omg-pull-create=, create a pull request. See [[https://en.liujiacai.net/2022/11/26/oh-my-github-1-0/][this blog post]] to check details.

** Screenshots
*** Starred repositories
[[file:assets/omg-stars.png]]
*** Commits
[[file:assets/omg-commits.png]]
*** Releases
[[file:assets/omg-releases.png]]
*** Assets
[[file:assets/omg-assets.png]]
*** Trendings
[[file:assets/omg-trendings.png]]

* Roadmap
- [x] Trending
- [x] Gists
- [ ] Issue

* Development
- Ubuntu
- macOS

Dependencies can be found in [[file:Makefile][Makefile]]'s =install-deps= target
* LICENSE
Copyright (c) 2022 Jiacai Liu <jiacai2050+omg@gmail.com>

Oh My GitHub is distributed under [[https://www.gnu.org/licenses/gpl-3.0.txt][GPL-3.0]] license.
